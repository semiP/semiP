<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap PUBLIC 
	'-//ibatis.apache.org//DTD Sql Map 2.0//EN' 
	'http://ibatis.apache.org/dtd/sql-map-2.dtd'>
	
<sqlMap namespace="basketSet">
	<typeAlias alias="basket" type="basket.basketVO"/>
	
  	<resultMap id="basketRes" class="basket.basketVO">
	  	<result property="basket_no" column="basket_no"/>
	  	<result property="goods_size" column="goods_size"/>
	  	<result property="goods_color" column="goods_color"/>
	  	<result property="bgoods_amount" column="bgoods_amount"/>
	  	<result property="basket_price" column="basket_price"/>
	  	<result property="basket_date" column="basket_date"/>
	  	<result property="goods_name" column="goods_name"/>
	  	<result property="goods_image" column="goods_image"/>
	</resultMap>	
	
	<select id="selectAllBasket" resultMap="basketRes" parameterClass="int">
		SELECT a.*,
		(select goods_size from goods where goods_no = a.goods_no) as goods_size,
		(select goods_color from goods where goods_no = a.goods_no) as goods_color,
		(select goods_name from goods where goods_no = a.goods_no) as goods_name,	
		(select goods_image from goods where goods_no = a.goods_no) as goods_image			
		FROM BASKET a WHERE member_no = #member_no#
	</select>	
	
</sqlMap>