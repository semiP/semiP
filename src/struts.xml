<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE struts PUBLIC "-//Apache Software Foundation//DTD Struts Configuration 2.0//EN" "http://struts.apache.org/dtds/struts-2.0.dtd">
<struts>
	<package name="support" extends="struts-default">
		<!-- 공지사항 액션. -->
		<!-- faq까지 같은 패키지 안에 넣고 액션명만 따로 주면 될거 같음 -->
		<action name="noticeAction" class="support.noticeAction">
			<result>/support/notice.jsp</result>
		</action>
		<!-- 자주묻는질문 액션 -->
		<action name="faqListAction" class="support.faqListAction">
			<result>/support/faq.jsp</result>
		</action>
		<!-- 자주묻는질문 상세보기 액션 -->
		<action name="faqViewAction" class="support.faqViewAction">
			<result>/support/faqView.jsp</result>
		</action>
		<!-- 공지사항 상세보기 액션 -->
		<action name="noticeViewAction" class="support.noticeViewAction">
			<result>/support/noticeView.jsp</result>
		</action>
		
	</package>
	
	<package name="main" extends="struts-default">
		<!-- tiles result type 설정 -->
		<result-types>
			<result-type name="tiles" class="org.apache.struts2.views.tiles.TilesResult" />
		</result-types>

		<!-- main 페이지 보여주기 액션 -->
		<action name="main" class="common.MainAction">
			<result type="tiles">main</result>
		</action>
	</package>
	<!-- Login-->
	<package name="login" namespace="/" extends="struts-default">
		<action name="login" class="member.loginAction">
			<result name="success">/main/mainbody.jsp</result> 
			<result name="login">/member/loginForm.jsp</result> 
	 		<result name="error">/common/loginError.jsp</result>
		</action>
		<action name="logout" class="member.loginAction" method="logout"> 
	 		<result type="redirect-action">
				<param name="actionName">main</param>
			</result> 
		</action>
		</package>
		
	<!-- Basket.xml -->
		<include file="./config/basket.xml"/>

	<include file="./config/goods.xml" />
	<include file="./config/order.xml" />
	
	<!-- 마이페이지-회원정보수정 -->
	<package name="mypage.memberModify" extends="struts-default">
		<!-- 마이페이지-회원정보수정 -->
		<action name="listView_member" class="mypage.memberModify.listViewAction">
			<result type="chain">checkPW_member</result>
		</action>
		
		<action name="checkPW_member" class="mypage.memberModify.checkPWAction">
			<result name="ERROR" type="chain">/mypage/pwError.jsp</result>
			<result name="SUCCESS" type="chain">modify</result>
		</action>
		
		<action name="modify" class="mypage.memberModify.modifyAction">
			<result type="chain">/mypage/profile.jsp</result>
		</action>
		
		<!-- 마이페이지-비밀번호수정 -->
		<action name="listView_pw" class="mypage.memberModify.listViewAction">
			<result type="chain">checkPW_pw</result>
		</action>
		
		<action name="checkPW_pw" class="mypage.memberModify.checkPWAction">
			<result name="ERROR" type="chain">/mypage/pwError.jsp</result>
			<result name="SUCCESS" type="chain">modifyPW</result>
		</action>
		
		<action name="modifyPW" class="mypage.memberModify.modifyPWAction">
			<result type="chain">/mypage/profile.jsp</result>
		</action>
		
	</package>
</struts>

